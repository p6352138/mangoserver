[2018-06-01 16:18:04.510] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 16:18:05.304] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 16:18:05.313] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 16:18:05.314] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 678 ms
[2018-06-01 16:18:05.404] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":8319}}
[2018-06-01 16:18:05.418] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":8316}}
[2018-06-01 16:35:12.063] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 16:35:13.139] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 16:35:13.147] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 16:35:13.148] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 930 ms
[2018-06-01 16:35:13.153] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":8410}}
[2018-06-01 17:09:49.550] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 17:09:50.848] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 17:09:50.856] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 17:09:50.857] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1112 ms
[2018-06-01 17:09:50.872] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":8714}}
[2018-06-01 17:16:41.125] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 17:16:42.400] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 17:16:42.406] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 17:16:42.407] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1097 ms
[2018-06-01 17:16:54.287] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 17:16:54.346] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 17:16:54.349] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 17:16:54.351] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 17:16:54.370] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 17:16:54.374] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to forward message:TypeError: Cannot read property 'length' of undefined
    at Object.crc32 (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/crc/lib/crc.js:322:14)
    at Object.module.exports.dispatch (/Users/z/Documents/pomelo/mango/test/game-server/app/util/dispatcher.js:5:30)
    at fightRoute (/Users/z/Documents/pomelo/mango/test/game-server/app.js:16:24)
    at /Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/proxy.js:244:7
    at getRouteTarget (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-client/client.js:357:11)
    at proxyCB (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-client/client.js:302:5)
    at Object.proxy [as forwardMessage] (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/util/proxy.js:61:7)
    at doForward (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:334:50)
    at dispatch (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:103:7)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
[2018-06-01 17:16:54.374] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 17:19:34.531] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-01 17:19:34.533] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-01 17:19:49.655] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 17:19:50.825] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 17:19:50.844] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 17:19:50.845] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1028 ms
[2018-06-01 17:19:50.851] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":8826}}
[2018-06-01 17:19:50.927] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":8831}}
[2018-06-01 17:36:25.857] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 17:36:27.172] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 17:36:27.178] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 17:36:27.178] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1144 ms
[2018-06-01 17:36:30.309] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 17:36:30.326] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 17:36:30.329] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 17:36:30.331] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 17:36:30.341] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 17:36:30.343] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to forward message:TypeError: Cannot read property 'toString' of undefined
    at fightRoute (/Users/z/Documents/pomelo/mango/test/game-server/app.js:16:51)
    at /Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/proxy.js:244:7
    at getRouteTarget (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-client/client.js:357:11)
    at proxyCB (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-client/client.js:302:5)
    at Object.proxy [as forwardMessage] (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/util/proxy.js:61:7)
    at doForward (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:334:50)
    at dispatch (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:103:7)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-01 17:36:30.344] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 17:40:00.794] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-01 17:40:00.796] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-01 17:40:16.947] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 17:40:18.155] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 17:40:18.162] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 17:40:18.162] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1026 ms
[2018-06-01 17:40:22.640] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 17:40:22.670] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 17:40:22.674] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 17:40:22.676] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 17:40:22.715] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 17:40:22.743] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: player is not a constructor
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:23:18)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 17:40:22.743] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 17:43:47.355] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 17:43:48.546] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 17:43:48.553] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 17:43:48.553] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1004 ms
[2018-06-01 17:43:48.559] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":9068}}
[2018-06-01 17:43:48.625] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":9063}}
[2018-06-01 17:45:01.896] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 17:45:03.174] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 17:45:03.179] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 17:45:03.179] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1098 ms
[2018-06-01 17:45:11.554] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 17:45:11.583] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 17:45:11.587] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 17:45:11.588] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 17:45:11.625] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 17:45:11.649] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: player is not a function
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:23:18)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 17:45:11.650] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 17:49:29.995] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-01 17:49:29.997] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-01 17:49:42.688] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 17:49:43.964] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 17:49:43.971] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 17:49:43.972] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1088 ms
[2018-06-01 17:49:43.974] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":9214}}
[2018-06-01 18:47:59.994] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 18:48:01.440] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 18:48:01.446] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 18:48:01.446] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1252 ms
[2018-06-01 18:48:05.927] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 18:48:06.028] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 18:48:06.032] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 18:48:06.034] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 18:48:06.101] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 18:48:06.123] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: fightRemote.add is not a function
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:28:14)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
    at Remote.forwardMessage (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/backend/msgRemote.js:45:10)
[2018-06-01 18:48:06.123] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 18:53:02.060] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-01 18:53:02.062] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-01 18:53:18.038] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 18:53:19.235] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 18:53:19.242] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 18:53:19.243] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1009 ms
[2018-06-01 18:54:39.581] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 18:54:40.788] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 18:54:40.799] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 18:54:40.799] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1048 ms
[2018-06-01 18:54:40.802] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":9616}}
[2018-06-01 18:54:46.247] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 18:54:46.358] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 18:54:46.363] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 18:54:46.366] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 18:54:46.447] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 18:54:46.470] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: session.get is not a function
    at fightRoute (/Users/z/Documents/pomelo/mango/test/game-server/app.js:14:21)
    at /Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/proxy.js:244:7
    at getRouteTarget (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-client/client.js:357:11)
    at proxyCB (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-client/client.js:302:5)
    at Object.proxy [as add] (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/util/proxy.js:61:7)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:28:33)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
[2018-06-01 18:54:46.471] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 18:56:43.468] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-01 18:56:43.470] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-01 19:00:35.343] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:00:36.584] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:00:36.589] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:00:36.589] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1063 ms
[2018-06-01 19:00:40.898] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:00:41.178] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:00:41.182] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:00:41.184] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:00:41.283] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:00:41.306] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10000}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:03:44.293] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:03:45.482] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:03:45.500] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:03:45.500] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1035 ms
[2018-06-01 19:03:45.503] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":9719}}
[2018-06-01 19:05:58.980] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:06:00.175] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:06:00.193] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:06:00.193] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1043 ms
[2018-06-01 19:06:00.214] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":9799}}
[2018-06-01 19:08:15.987] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:08:17.196] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:08:17.206] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:08:17.218] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1044 ms
[2018-06-01 19:08:17.222] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":9812}}
[2018-06-01 19:08:20.315] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:08:20.331] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:08:20.334] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:08:20.336] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:08:20.374] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:08:20.396] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10000}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:09:09.286] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:09:10.612] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:09:10.620] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:09:10.620] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1076 ms
[2018-06-01 19:09:10.623] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":9823}}
[2018-06-01 19:16:06.038] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:16:07.249] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:16:07.260] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:16:07.261] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1047 ms
[2018-06-01 19:16:07.263] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":9904}}
[2018-06-01 19:16:12.928] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:16:13.448] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:16:13.454] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:16:13.456] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:16:13.772] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:16:13.796] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10000}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:16:19.270] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-01 19:16:19.271] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-01 19:21:06.692] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:21:07.932] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:21:07.940] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:21:07.941] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1077 ms
[2018-06-01 19:21:07.943] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":9988}}
[2018-06-01 19:22:12.281] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:22:13.479] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:22:13.490] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:22:13.490] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1007 ms
[2018-06-01 19:22:16.822] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:22:16.848] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:22:16.853] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:22:16.855] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:22:16.895] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:22:16.916] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:ReferenceError: channel is not defined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:38:5)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:22:16.917] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:23:03.067] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-01 19:23:03.068] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-01 19:23:39.666] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:23:40.849] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:23:40.856] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:23:40.857] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1015 ms
[2018-06-01 19:23:40.887] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":10075}}
[2018-06-01 19:23:45.535] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:23:46.088] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:23:46.092] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:23:46.094] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:23:46.181] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:23:46.204] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:ReferenceError: channel is not defined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:38:13)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:23:46.205] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:26:27.404] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:26:29.150] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:26:29.157] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:26:29.157] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1455 ms
[2018-06-01 19:27:11.593] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39mconnector-server-2 receive removeServer signal: {"action":"removeServer","id":"connector-server-1"}
[2018-06-01 19:27:46.967] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:27:48.200] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:27:48.207] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:27:48.207] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1032 ms
[2018-06-01 19:27:48.215] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":10196}}
[2018-06-01 19:27:51.826] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:27:51.845] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:27:51.848] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:27:51.850] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:27:51.885] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:27:51.911] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10000}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:32:23.760] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:32:25.042] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:32:25.049] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:32:25.050] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1099 ms
[2018-06-01 19:32:25.065] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":10226}}
[2018-06-01 19:32:25.071] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":10231}}
[2018-06-01 19:35:48.336] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:35:50.295] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:35:50.301] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:35:50.302] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1628 ms
[2018-06-01 19:35:56.666] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:35:56.717] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:35:56.720] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:35:56.722] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:35:56.727] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:35:56.749] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'getServerId' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:38)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:35:56.750] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:36:06.493] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39mconnector-server-2 receive removeServer signal: {"action":"removeServer","id":"connector-server-1"}
[2018-06-01 19:36:16.302] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:36:17.519] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:36:17.532] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:36:17.532] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1017 ms
[2018-06-01 19:36:17.536] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":10343}}
[2018-06-01 19:36:20.711] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:36:20.755] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:36:20.759] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:36:20.761] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:36:20.766] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:36:20.788] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'getServerId' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:38)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:36:20.788] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:37:28.257] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-01 19:37:28.259] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-01 19:37:49.735] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:37:50.940] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:37:50.948] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:37:50.948] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1027 ms
[2018-06-01 19:37:55.005] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:37:55.035] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:37:55.040] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:37:55.042] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:37:55.092] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:37:55.123] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'getServerId' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:38)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:37:55.123] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:39:59.858] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:40:01.034] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:40:01.044] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:40:01.044] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1012 ms
[2018-06-01 19:58:09.056] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 19:58:10.403] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 19:58:10.410] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 19:58:10.410] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1149 ms
[2018-06-01 19:58:10.431] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":10521}}
[2018-06-01 19:58:20.636] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 19:58:20.654] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:58:20.659] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 19:58:20.660] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 19:58:20.698] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 19:58:20.722] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:42:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-01 19:58:20.722] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 20:08:06.938] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 20:08:08.732] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 20:08:08.743] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 20:08:08.744] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1613 ms
[2018-06-01 20:08:08.751] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":10633}}
[2018-06-01 20:08:08.781] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":10638}}
[2018-06-01 20:08:11.975] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39mconnector-server-2 receive removeServer signal: {"action":"removeServer","id":"connector-server-1"}
[2018-06-01 20:11:11.831] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 20:11:13.039] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 20:11:13.046] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 20:11:13.047] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1034 ms
[2018-06-01 20:11:13.055] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":10708}}
[2018-06-01 20:13:43.529] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 20:13:44.699] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 20:13:44.705] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 20:13:44.706] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1008 ms
[2018-06-01 20:13:48.464] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 20:13:48.499] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 20:13:48.503] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 20:13:48.505] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 20:13:48.522] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":{"stack":"TypeError: Cannot read property 'split' of null\n    at FightRemote.get (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/remote/fightRemote.js:45:23)\n    at FightRemote.add (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/remote/fightRemote.js:26:10)\n    at Dispatcher.pro.route (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/dispatcher.js:52:10)\n    at Acceptor.cb (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/gateway.js:22:16)\n    at processMsg (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/acceptors/mqtt-acceptor.js:138:12)\n    at Connection.<anonymous> (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/acceptors/mqtt-acceptor.js:62:11)\n    at emitOne (events.js:116:13)\n    at Connection.emit (events.js:211:7)\n    at Connection.emitPacket (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/mqtt-connection/connection.js:14:8)\n    at emitOne (events.js:116:13)"}}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 20:13:48.549] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 20:13:48.563] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'get' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:43:43)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 20:13:48.563] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 20:16:00.825] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 20:16:01.984] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 20:16:02.010] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 20:16:02.010] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1017 ms
[2018-06-01 20:16:02.025] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":10792}}
[2018-06-01 20:16:02.026] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":10797}}
[2018-06-01 20:18:44.144] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 20:18:45.339] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 20:18:45.347] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 20:18:45.347] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1016 ms
[2018-06-01 20:18:45.373] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":10816}}
[2018-06-01 20:18:45.377] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":10821}}
[2018-06-01 20:59:23.493] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-01 20:59:24.887] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-01 20:59:24.917] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-01 20:59:24.917] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1232 ms
[2018-06-01 20:59:24.921] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":11071}}
[2018-06-01 20:59:31.711] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-01 20:59:31.729] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 20:59:31.732] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: undefined
[2018-06-01 20:59:31.734] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 20:59:31.746] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-01 20:59:31.751] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":[null]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 20:59:31.764] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:44:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-01 20:59:31.764] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-01 21:02:36.833] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-01 21:02:36.834] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 10:01:20.755] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:01:22.008] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:01:22.016] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:01:22.017] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1082 ms
[2018-06-02 10:01:22.026] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":11204}}
[2018-06-02 10:01:22.031] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":11199}}
[2018-06-02 10:05:56.280] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:05:57.625] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:05:57.640] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:05:57.641] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1148 ms
[2018-06-02 10:05:57.644] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":11217}}
[2018-06-02 10:05:57.716] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":11212}}
[2018-06-02 10:16:15.903] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:16:17.169] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:16:17.179] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:16:17.180] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1085 ms
[2018-06-02 10:17:05.031] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 10:17:05.061] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:17:05.255] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 10:17:05.257] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:17:05.315] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:17:05.321] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:17:05.335] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:44:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-02 10:17:05.335] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:34:52.666] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:34:54.119] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:34:54.126] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:34:54.127] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1196 ms
[2018-06-02 10:34:54.147] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":11415}}
[2018-06-02 10:34:54.193] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":11410}}
[2018-06-02 10:37:35.371] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:37:36.973] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:37:36.981] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:37:36.982] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1246 ms
[2018-06-02 10:37:37.069] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":11524}}
[2018-06-02 10:40:06.640] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:40:08.172] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:40:08.180] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:40:08.180] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1312 ms
[2018-06-02 10:40:11.142] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 10:40:11.166] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:40:11.171] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 10:40:11.174] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:40:11.193] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:40:11.196] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:40:11.214] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:47:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-02 10:40:11.215] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:42:36.394] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:42:37.866] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:42:37.872] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:42:37.872] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1254 ms
[2018-06-02 10:42:46.777] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 10:42:46.796] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:42:46.800] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 10:42:46.801] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:42:46.852] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:42:46.857] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:42:46.869] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:47:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-02 10:42:46.869] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:45:36.371] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:45:37.660] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:45:37.673] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:45:37.673] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1106 ms
[2018-06-02 10:45:42.321] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 10:45:42.340] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:45:42.345] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 10:45:42.347] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:45:42.399] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:45:42.403] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:45:42.417] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:50:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-02 10:45:42.417] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:47:41.746] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:47:43.011] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:47:43.018] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:47:43.019] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1092 ms
[2018-06-02 10:47:52.684] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 10:47:52.715] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:47:52.720] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 10:47:52.722] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:47:52.773] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:47:52.777] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:47:52.790] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:50:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-02 10:47:52.791] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:49:17.407] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-02 10:49:17.408] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 10:51:43.736] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:51:45.124] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:51:45.131] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:51:45.132] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1207 ms
[2018-06-02 10:51:49.337] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 10:51:49.363] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:51:49.369] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 10:51:49.371] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:51:49.391] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 10:51:49.396] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:51:49.415] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:51:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-02 10:51:49.415] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 10:52:58.973] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-02 10:52:58.974] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 10:53:19.173] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 10:53:20.520] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 10:53:20.531] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 10:53:20.531] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1156 ms
[2018-06-02 10:53:20.538] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":11869}}
[2018-06-02 10:53:20.554] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":11874}}
[2018-06-02 11:00:39.000] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 11:00:40.299] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 11:00:40.312] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 11:00:40.313] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1133 ms
[2018-06-02 11:00:40.323] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":11906}}
[2018-06-02 11:00:57.092] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 11:00:57.116] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:00:57.122] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:00:57.125] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:00:57.212] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:01:01.990] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:01:02.009] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10000}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:01:03.115] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-02 11:01:03.116] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 11:03:18.096] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 2
[2018-06-02 11:03:18.105] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:03:18.106] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:03:18.106] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:03:18.115] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940"]}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:03:18.120] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940"], msg: {"rote":"OnFreshPile","data":"fuck!"}, sids: [2,2]
[2018-06-02 11:03:18.120] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: null, msg: {"rote":"OnFreshPile","data":"fuck!"}, receivers: [2,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 11:03:20.548] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:03:20.555] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10000}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:03:24.106] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 2 heartbeat timeout.
[2018-06-02 11:03:24.107] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 2
[2018-06-02 11:08:49.279] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 11:08:50.476] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 11:08:50.498] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 11:08:50.499] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1049 ms
[2018-06-02 11:08:50.503] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":11952}}
[2018-06-02 11:08:58.941] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 11:08:58.960] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:08:58.965] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:08:58.967] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:08:59.014] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:08:59.015] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":0,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:08:59.033] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10000}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:20:41.481] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 11:20:42.754] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 11:20:42.762] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 11:20:42.763] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1091 ms
[2018-06-02 11:20:42.779] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":12153}}
[2018-06-02 11:20:44.862] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 11:20:44.924] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:20:44.932] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:20:44.934] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:20:44.989] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:20:45.006] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":0,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:20:45.030] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:ReferenceError: err is not defined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:52:49)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-02 11:20:45.031] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:25:53.933] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 11:25:55.104] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 11:25:55.111] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 11:25:55.111] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 980 ms
[2018-06-02 11:25:55.117] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"fight-server-3","host":"127.0.0.1","port":6052,"serverType":"fight","pid":12198}}
[2018-06-02 11:25:55.211] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":12194}}
[2018-06-02 11:25:55.261] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":12199}}
[2018-06-02 11:26:55.425] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 11:26:56.581] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 11:26:56.588] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 11:26:56.588] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 981 ms
[2018-06-02 11:26:59.090] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 11:26:59.112] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:26:59.117] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:26:59.118] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:26:59.132] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":0,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:26:59.137] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:26:59.146] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'get' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:29)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-02 11:26:59.147] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:29:37.741] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 11:29:41.546] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 2
[2018-06-02 11:29:41.554] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:29:41.555] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:29:41.556] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:29:41.561] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":3,"type":0,"compressRoute":0,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:29:41.565] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940"]}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:29:41.569] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'get' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:29)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-02 11:29:41.569] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:29:41.573] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940"], msg: {"rote":"OnFreshPile","data":"fuck!"}, sids: [2,2]
[2018-06-02 11:29:41.574] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: null, msg: {"rote":"OnFreshPile","data":"fuck!"}, receivers: [2,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 11:30:23.580] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 2
[2018-06-02 11:30:47.134] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 3
[2018-06-02 11:30:47.145] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 3, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:30:47.146] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:30:47.146] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:30:47.149] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940"], msg: {"rote":"OnFreshPile","data":"fuck!"}, sids: [3,3]
[2018-06-02 11:30:47.150] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: null, msg: {"rote":"OnFreshPile","data":"fuck!"}, receivers: [3,3], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 11:30:47.152] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940"]}, receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:30:47.156] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 3, msg: {"id":3,"type":0,"compressRoute":0,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:30:47.159] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'get' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:29)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-02 11:30:47.159] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:30:47.170] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 3
[2018-06-02 11:31:01.353] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 4
[2018-06-02 11:31:01.365] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 4, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:31:01.366] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:31:01.366] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [4], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:31:01.369] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940"], msg: {"rote":"OnFreshPile","data":"fuck!"}, sids: [4,4,4]
[2018-06-02 11:31:01.370] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: null, msg: {"rote":"OnFreshPile","data":"fuck!"}, receivers: [4,4,4], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 11:31:01.372] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940"]}, receivers: [4], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:31:01.373] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 4, msg: {"id":3,"type":0,"compressRoute":0,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:31:01.379] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'get' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:29)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-02 11:31:01.379] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [4], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:31:10.419] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 4 heartbeat timeout.
[2018-06-02 11:31:10.419] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 4
[2018-06-02 11:33:00.365] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 5
[2018-06-02 11:33:00.385] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 5, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:33:00.386] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:33:00.386] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [5], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:33:00.390] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940","2036128940"], msg: {"rote":"OnFreshPile","data":"fuck!"}, sids: [5,5,5,5]
[2018-06-02 11:33:00.390] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: null, msg: {"rote":"OnFreshPile","data":"fuck!"}, receivers: [5,5,5,5], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 11:33:00.393] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940","2036128940"]}, receivers: [5], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:33:05.683] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 5, msg: {"id":3,"type":0,"compressRoute":0,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:33:05.689] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'get' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:29)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-02 11:33:05.689] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [5], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:33:06.388] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 5 heartbeat timeout.
[2018-06-02 11:33:06.389] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 5
[2018-06-02 11:37:02.186] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 6
[2018-06-02 11:37:02.210] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 6, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:37:02.210] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:37:02.211] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [6], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:37:02.214] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940","2036128940","2036128940"], msg: {"rote":"OnFreshPile","data":"fuck!"}, sids: [6,6,6,6,6]
[2018-06-02 11:37:02.214] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: null, msg: {"rote":"OnFreshPile","data":"fuck!"}, receivers: [6,6,6,6,6], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 11:37:02.216] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940","2036128940","2036128940"]}, receivers: [6], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:37:08.205] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 6 heartbeat timeout.
[2018-06-02 11:37:08.205] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 6
[2018-06-02 11:39:24.389] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 11:39:25.562] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 11:39:25.571] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 11:39:25.572] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 998 ms
[2018-06-02 11:39:25.609] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":12347}}
[2018-06-02 11:39:46.638] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 11:39:46.656] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:39:46.661] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:39:46.662] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:39:46.711] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 11:39:46.716] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:39:46.717] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39mFail to send message for non-existing session, sid: 1 msg: {"users":["2036128940"]}
[2018-06-02 11:40:02.381] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 2
[2018-06-02 11:40:02.394] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:40:02.395] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:40:02.396] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:40:02.404] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940"]}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:40:02.409] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940"], msg: {"rote":"OnFreshPile","data":"fuck!"}, sids: [2,2]
[2018-06-02 11:40:02.409] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"rote":"OnFreshPile","data":"fuck!"}, receivers: [2,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 11:40:08.397] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 2 heartbeat timeout.
[2018-06-02 11:40:08.398] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 2
[2018-06-02 11:42:51.542] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 3
[2018-06-02 11:42:51.552] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 3, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 11:42:51.552] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 11:42:51.553] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:42:51.556] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940"], msg: {"rote":"OnFreshPile","data":"fuck!"}, sids: [3,3]
[2018-06-02 11:42:51.557] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"rote":"OnFreshPile","data":"fuck!"}, receivers: [3,3], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 11:42:51.558] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940"]}, receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 11:42:57.556] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 3 heartbeat timeout.
[2018-06-02 11:42:57.556] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 3
[2018-06-02 14:35:39.446] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 14:35:40.693] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 14:35:40.701] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 14:35:40.702] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1065 ms
[2018-06-02 14:35:40.746] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":12469}}
[2018-06-02 14:36:23.492] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 14:36:23.510] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 14:36:23.515] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 14:36:23.516] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:36:23.531] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:36:29.514] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-02 14:36:29.515] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 14:46:32.899] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 2
[2018-06-02 14:46:32.918] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 14:46:32.919] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 14:46:32.919] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:46:32.922] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940"]}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:46:38.922] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 2 heartbeat timeout.
[2018-06-02 14:46:38.922] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 2
[2018-06-02 14:47:46.063] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 3
[2018-06-02 14:47:46.069] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 3, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 14:47:46.070] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 14:47:46.070] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:47:46.073] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940"]}, receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:47:51.073] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 3, msg: {"id":3,"type":0,"compressRoute":0,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 14:47:51.096] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:ReferenceError: err is not defined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:54:49)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-02 14:47:51.097] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:47:52.074] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 3 heartbeat timeout.
[2018-06-02 14:47:52.075] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 3
[2018-06-02 14:49:43.481] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 14:49:44.641] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 14:49:44.657] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 14:49:44.657] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 996 ms
[2018-06-02 14:49:44.693] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":12539}}
[2018-06-02 14:50:05.361] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 14:50:05.377] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 14:50:05.384] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 14:50:05.386] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:50:05.400] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:50:11.382] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 1 heartbeat timeout.
[2018-06-02 14:50:11.384] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 14:52:05.903] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 2
[2018-06-02 14:52:05.910] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 14:52:05.911] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 14:52:05.911] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:52:05.914] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940"]}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:52:11.914] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 2 heartbeat timeout.
[2018-06-02 14:52:11.915] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 2
[2018-06-02 14:53:39.091] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 3
[2018-06-02 14:53:39.098] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 3, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 14:53:39.099] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 14:53:39.099] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:53:39.102] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940"]}, receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:53:45.098] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 3 heartbeat timeout.
[2018-06-02 14:53:45.098] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 3
[2018-06-02 14:56:48.099] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 4
[2018-06-02 14:56:48.110] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 4, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 14:56:48.111] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 14:56:48.112] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [4], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:56:48.114] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940"]}, receivers: [4], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 14:56:54.115] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 4 heartbeat timeout.
[2018-06-02 14:56:54.116] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 4
[2018-06-02 15:01:45.597] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 5
[2018-06-02 15:01:51.615] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 5 heartbeat timeout.
[2018-06-02 15:01:51.615] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 5
[2018-06-02 15:03:04.075] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 6
[2018-06-02 15:03:06.527] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 6, msg: {"id":2,"type":0,"compressRoute":0,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:03:06.528] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 15:03:06.528] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [6], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:03:06.531] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940","2036128940"]}, receivers: [6], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:03:10.089] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 6 heartbeat timeout.
[2018-06-02 15:03:10.089] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 6
[2018-06-02 15:35:55.163] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 15:35:56.493] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 15:35:56.502] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 15:35:56.502] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1161 ms
[2018-06-02 15:35:58.995] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 15:35:59.016] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:35:59.020] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 15:35:59.021] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:35:59.026] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:35:59.045] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:ReferenceError: serverID is not defined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:40:34)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-02 15:35:59.046] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:37:10.867] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 15:37:12.131] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 15:37:12.139] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 15:37:12.140] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1080 ms
[2018-06-02 15:38:42.507] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 15:38:42.523] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:38:42.527] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 15:38:42.529] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:38:42.534] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:38:42.554] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:42:07.697] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 15:42:08.911] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 15:42:08.918] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 15:42:08.919] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1033 ms
[2018-06-02 15:42:09.005] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":12882}}
[2018-06-02 15:42:22.463] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 15:42:22.507] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:42:22.511] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 15:42:22.513] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:42:22.528] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:42:22.531] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:42:22.536] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:46:21.361] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 15:46:22.593] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 15:46:22.599] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 15:46:22.599] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1053 ms
[2018-06-02 15:46:26.320] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 15:46:26.340] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:46:26.343] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 15:46:26.344] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:46:26.356] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:46:26.361] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:46:26.369] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:47:19.746] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 15:47:20.998] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 15:47:21.006] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 15:47:21.006] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1080 ms
[2018-06-02 15:47:21.019] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":12983}}
[2018-06-02 15:47:23.935] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 15:47:23.951] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:47:23.954] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 15:47:23.956] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 15:47:23.962] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 15:47:23.981] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 16:17:09.061] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 16:17:12.247] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 2
[2018-06-02 16:17:12.256] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 16:17:12.256] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 16:17:12.257] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 16:17:12.260] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 16:17:12.263] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 16:26:11.047] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 16:26:12.262] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 16:26:12.272] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 16:26:12.272] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1039 ms
[2018-06-02 16:26:20.423] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 16:26:20.442] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 16:26:20.445] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 16:26:20.446] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: "hhh", receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 16:26:20.453] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 16:26:20.472] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:ReferenceError: flag is not defined
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:28:54)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
    at Remote.forwardMessage (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/backend/msgRemote.js:45:10)
[2018-06-02 16:26:20.472] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 16:27:40.748] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 16:27:41.996] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 16:27:42.003] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 16:27:42.004] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1072 ms
[2018-06-02 16:27:42.007] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":13322}}
[2018-06-02 16:55:09.640] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 16:55:10.842] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 16:55:10.849] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 16:55:10.850] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1032 ms
[2018-06-02 17:05:04.363] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 17:05:05.616] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 17:05:05.621] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 17:05:05.622] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1070 ms
[2018-06-02 17:05:14.916] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 17:05:14.945] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:05:14.949] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:05:14.966] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:05:14.975] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:05:14.984] [ERROR] pomelo - [31m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js] [39mfail to process remote message:TypeError: Cannot read property 'get' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:34:28)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:31:14)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-02 17:05:14.984] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"code":500}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:06:21.934] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 17:06:23.156] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 17:06:23.161] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 17:06:23.162] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1053 ms
[2018-06-02 17:06:25.066] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 17:06:25.086] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:06:25.091] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:06:25.108] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:06:25.116] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:06:25.129] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:06:25.133] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [1]
[2018-06-02 17:06:25.133] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:08:23.099] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-02 17:08:23.697] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 2
[2018-06-02 17:08:23.713] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:08:23.714] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:08:23.718] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940"]}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:08:23.726] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 2, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:08:23.732] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [2,2]
[2018-06-02 17:08:23.733] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [2,2], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:08:23.735] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [2], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:09:04.331] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 2
[2018-06-02 17:09:04.866] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 3
[2018-06-02 17:09:04.884] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 3, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:09:04.885] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:09:04.888] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940"]}, receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:09:04.897] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 3, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:09:04.904] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [3,3,3]
[2018-06-02 17:09:04.905] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [3,3,3], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:09:04.906] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [3], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:09:53.346] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 3
[2018-06-02 17:09:53.882] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 4
[2018-06-02 17:09:53.899] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 4, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:09:53.899] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:09:53.902] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940"]}, receivers: [4], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:09:53.912] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 4, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:09:53.915] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940","2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [4,4,4,4]
[2018-06-02 17:09:53.915] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [4,4,4,4], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:09:53.917] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [4], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:10:11.462] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 4
[2018-06-02 17:10:12.122] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 5
[2018-06-02 17:10:12.154] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 5, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:10:12.155] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:10:12.158] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940","2036128940"]}, receivers: [5], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:10:12.163] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 5, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:10:12.167] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940","2036128940","2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [5,5,5,5,5]
[2018-06-02 17:10:12.168] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [5,5,5,5,5], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:10:12.170] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [5], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:10:25.377] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 5
[2018-06-02 17:10:29.912] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 6
[2018-06-02 17:10:29.921] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 6, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:10:29.922] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:10:29.925] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940","2036128940","2036128940"]}, receivers: [6], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:10:29.934] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 6, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:10:29.940] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940","2036128940","2036128940","2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [6,6,6,6,6,6]
[2018-06-02 17:10:29.940] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [6,6,6,6,6,6], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:10:29.942] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [6], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:11:41.991] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 6
[2018-06-02 17:11:51.237] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 7
[2018-06-02 17:11:51.249] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 7, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:11:51.250] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:11:51.254] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940"]}, receivers: [7], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:11:51.258] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 7, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:11:51.261] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [7,7,7,7,7,7,7]
[2018-06-02 17:11:51.261] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [7,7,7,7,7,7,7], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:11:51.263] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [7], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:12:11.254] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/connectors/commands/heartbeat.js] [39mclient 7 heartbeat timeout.
[2018-06-02 17:12:11.255] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 7
[2018-06-02 17:12:22.877] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 8
[2018-06-02 17:12:22.900] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 8, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:12:22.900] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:12:22.904] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940"]}, receivers: [8], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:12:22.910] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 8, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:12:22.914] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [8,8,8,8,8,8,8,8]
[2018-06-02 17:12:22.915] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [8,8,8,8,8,8,8,8], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:12:22.917] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [8], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:12:35.759] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 8
[2018-06-02 17:12:40.274] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 9
[2018-06-02 17:12:40.280] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 9, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:12:40.280] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:12:40.283] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940"]}, receivers: [9], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:12:40.292] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 9, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:12:40.295] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940","2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [9,9,9,9,9,9,9,9,9]
[2018-06-02 17:12:40.296] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [9,9,9,9,9,9,9,9,9], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:12:40.297] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [9], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:14:51.994] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 17:14:53.210] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 17:14:53.217] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 17:14:53.218] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1038 ms
[2018-06-02 17:14:53.240] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"connector-server-1","host":"127.0.0.1","port":3150,"clientPort":3011,"frontend":"true","serverType":"connector","pid":13839}}
[2018-06-02 17:14:53.242] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":13844}}
[2018-06-02 17:17:00.387] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 17:17:01.637] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 17:17:01.647] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 17:17:01.647] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1078 ms
[2018-06-02 17:24:26.441] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-02 17:24:27.699] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-02 17:24:27.705] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-02 17:24:27.705] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1098 ms
[2018-06-02 17:24:33.609] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] getSession session is created with session id: 1
[2018-06-02 17:24:33.670] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":2,"type":0,"compressRoute":1,"route":"connector.entryHandler.enter","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:24:33.674] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39msession on [connector-server-2] bind with uid: 2036128940
[2018-06-02 17:24:33.689] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 2, route: connector.entryHandler.enter, msg: {"users":["2036128940"]}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:24:33.719] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] handleMessage session id: 1, msg: {"id":3,"type":0,"compressRoute":1,"route":"fight.fightHandler.beginFight","body":{"uid":"2036128940"},"compressGzip":0}
[2018-06-02 17:24:33.732] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: 3, route: fight.fightHandler.beginFight, msg: {"roomid":10001}, receivers: [1], opts: {"type":"response","userOptions":{},"isResponse":true}
[2018-06-02 17:24:33.737] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [1]
[2018-06-02 17:24:33.737] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:24:38.732] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [1]
[2018-06-02 17:24:38.732] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:24:43.739] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [1]
[2018-06-02 17:24:43.740] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:24:48.746] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [1]
[2018-06-02 17:24:48.747] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:24:53.748] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/frontend/channelRemote.js] [39m[connector-server-2] pushMessage uids: ["2036128940"], msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, sids: [1]
[2018-06-02 17:24:53.748] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/connector.js] [39m[connector-server-2] send message reqId: null, route: OnFreshPile, msg: {"cards":0,"discardCards":1,"ExhaustedCards":1}, receivers: [1], opts: {"type":"push","userOptions":{},"isPush":true}
[2018-06-02 17:25:30.436] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/sessionService.js] [39msession on [connector-server-2] is closed with session id: 1
[2018-06-04 14:49:15.247] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39mapplication inited: "connector-server-2"
[2018-06-04 14:49:17.110] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" enter after start...
[2018-06-04 14:49:17.118] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" finish start
[2018-06-04 14:49:17.118] [INFO] pomelo - [32m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/application.js] [39m"connector-server-2" startup in 1576 ms
[2018-06-04 14:49:17.159] [DEBUG] pomelo - [36m[/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/modules/monitorwatcher.js] [39m[connector-server-2] receive addServer signal: {"action":"addServer","server":{"main":"/Users/z/Documents/pomelo/mango/test/game-server/app.js","env":"development","id":"gate-server-1","host":"127.0.0.1","clientPort":3010,"frontend":"true","serverType":"gate","pid":15265}}
