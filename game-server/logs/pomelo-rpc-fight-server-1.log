[2018-06-01 17:43:55.235] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: player is not a function
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:23:18)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 17:45:11.648] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: player is not a function
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:23:18)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 18:48:06.121] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: fightRemote.add is not a function
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:28:14)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
    at Remote.forwardMessage (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/backend/msgRemote.js:45:10)
[2018-06-01 18:53:23.408] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error ReferenceError: self is not defined
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:28:2)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
    at Remote.forwardMessage (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/remote/backend/msgRemote.js:45:10)
[2018-06-01 18:54:46.469] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: session.get is not a function
    at fightRoute (/Users/z/Documents/pomelo/mango/test/game-server/app.js:14:21)
    at /Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/proxy.js:244:7
    at getRouteTarget (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-client/client.js:357:11)
    at proxyCB (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-client/client.js:302:5)
    at Object.proxy [as add] (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/util/proxy.js:61:7)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:28:33)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
[2018-06-01 19:22:16.913] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error ReferenceError: channel is not defined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:38:5)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:23:46.202] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error ReferenceError: channel is not defined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:38:13)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:32:28.841] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'get' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:38)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:35:56.748] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'getServerId' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:38)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:37:55.121] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'getServerId' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:39:38)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 19:58:20.720] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:42:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-01 20:13:48.520] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'split' of null
    at FightRemote.get (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/remote/fightRemote.js:45:23)
    at FightRemote.add (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/remote/fightRemote.js:26:10)
    at Dispatcher.pro.route (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/dispatcher.js:52:10)
    at Acceptor.cb (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/gateway.js:22:16)
    at processMsg (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/acceptors/mqtt-acceptor.js:138:12)
    at Connection.<anonymous> (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/acceptors/mqtt-acceptor.js:62:11)
    at emitOne (events.js:116:13)
    at Connection.emit (events.js:211:7)
    at Connection.emitPacket (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/mqtt-connection/connection.js:14:8)
    at emitOne (events.js:116:13)
[2018-06-01 20:13:48.562] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'get' of undefined
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:43:43)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
    at doHandle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:388:3)
    at Server.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:125:3)
    at Component.pro.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/components/server.js:67:14)
[2018-06-01 20:16:04.075] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'split' of null
    at FightRemote.get (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/remote/fightRemote.js:45:23)
    at FightRemote.add (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/remote/fightRemote.js:26:10)
    at Dispatcher.pro.route (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/dispatcher.js:52:10)
    at Acceptor.cb (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/gateway.js:22:16)
    at processMsg (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/acceptors/mqtt-acceptor.js:138:12)
    at Connection.<anonymous> (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo-rpc/lib/rpc-server/acceptors/mqtt-acceptor.js:62:11)
    at emitOne (events.js:116:13)
    at Connection.emit (events.js:211:7)
    at Connection.emitPacket (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/mqtt-connection/connection.js:14:8)
    at emitOne (events.js:116:13)
[2018-06-01 20:16:04.094] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:44:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-01 20:59:31.762] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:44:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-02 10:02:32.314] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:44:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
[2018-06-02 10:34:58.171] [ERROR] pomelo-rpc - [31m[mqtt-acceptor] [39mprocess rpc message error TypeError: Cannot read property 'uid' of undefined
    at ChannelService.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/channelService.js:118:16)
    at Object.ms.pushMessageByUids (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:7:38)
    at Object.ms.pushMessageToPlayer (/Users/z/Documents/pomelo/mango/test/game-server/app/services/messageService.js:11:8)
    at Object.fightManger.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/services/fightManger.js:44:24)
    at Handler.handler.beginFight (/Users/z/Documents/pomelo/mango/test/game-server/app/servers/fight/handler/fightHandler.js:26:27)
    at Service.handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/handlerService.js:59:20)
    at handle (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:375:25)
    at next (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:50:7)
    at Service.beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/common/service/filterService.js:65:3)
    at beforeFilter (/Users/z/Documents/pomelo/mango/test/game-server/node_modules/pomelo/lib/server/server.js:242:8)
